<?xml version="1.0"?>
<!--
  - SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors
  - SPDX-License-Identifier: AGPL-3.0-or-later
-->
<info>
	<id>live_transcription</id>
	<name>Live Transcription in Talk</name>
	<summary>Provides live transcriptions in Nextcloud Talk calls.</summary>
	<description>
	<![CDATA[Provides live transcriptions in Nextcloud Talk calls. High-performance backend (HPB) is required for this app to work.]]>
	</description>
	<version>1.0.0</version>
	<licence>agpl</licence>
	<author mail="kyteinsky@gmail.com" homepage="https://github.com/kyteinsky">Anupam Kumar</author>
	<author mail="mklehr@gmx.net" homepage="https://github.com/marcelklehr">Marcel Klehr</author>
	<namespace>LiveTranscription</namespace>
	<category>ai</category>
	<category>social</category>
	<website>https://github.com/nextcloud/live_transcription</website>
	<bugs>https://github.com/nextcloud/live_transcription/issues</bugs>
	<repository type="git">https://github.com/nextcloud/live_transcription</repository>
	<dependencies>
		<nextcloud min-version="32" max-version="32"/>
	</dependencies>
	<external-app>
		<docker-install>
			<registry>ghcr.io</registry>
			<image>nextcloud-releases/live_transcription</image>
			<image-tag>1.0.0</image-tag>
		</docker-install>
		<environment-variables>
			<variable>
				<name>LT_HPB_URL</name>
				<display-name>High-performance backend URL</display-name>
				<description>URL of the high-performance backend, same as the URL in the admin settings of Talk. This should support websockets.</description>
			</variable>
			<variable>
				<name>LT_INTERNAL_SECRET</name>
				<display-name>Internet secret of the high-performance backend</display-name>
				<description>Secret used to authenticate the high-performance backend. This is not the same as the secret in the admin settings of Talk.</description>
			</variable>
			<variable>
				<name>LT_VOSK_SERVER_URL</name>
				<display-name>URL of the Vosk Server</display-name>
				<description>Audio is sent to this server for transcription. It should be of the form "ws://localhost:2702". The internal Vosk server will also listen on this interface and port if enabled.</description>
			</variable>
			<variable>
				<name>LT_DISABLE_INTERNAL_VOSK</name>
				<display-name>Disable the internal Vosk server</display-name>
				<description>"LT_VOSK_SERVER_URL" should point to a functioning Vosk server in this case. Accepted values are "1", "0", "true", "false".</description>
			</variable>
			<variable>
				<name>SKIP_CERT_VERIFY</name>
				<display-name>Skip SSL certificate verification</display-name>
				<description>When set to "true" or "1", certificate verifications will ke skipped for the websocket connections to the HPB.</description>
			</variable>
			<variable>
				<name>LT_MAX_WORKERS</name>
				<display-name>Max concurrent transcription workers</display-name>
				<description>This limits concurrency of the transcription and by extension the max GPU/system memory usage. One worker processes one stream at a time.</description>
			</variable>
		</environment-variables>
	</external-app>
</info>
